<!DOCTYPE html>
<html>
{% include head.html %}
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
{% include nav.html %}

<section id="game-detail" class="container content-section text-center">
    <div class="game-banner" style="background-image: url(/img/{{ page.img }})">
        <h1>{{ page.title }}</h1>
    </div>

    <section class="text-justify">
        {{ page.content | markdownify }}
    </section>

    {% if page.iframe %}
    <section>
        <h2 class="text-justify">{{ site.t[page.lang].download }}</h2>
        <iframe src="{{ page.iframe }}" frameborder="0" width="100%" height="245"></iframe>
    </section>
    {% endif %}

</section>

{% include carousel.html %}

{% include footer.html %}
{% include js.html %}
<script type="text/javascript">
    function carouselNormalization() {
        var items = $('#carousel-example-generic').find('.item'), //grab all slides
            heights = [], //create empty array to store height values
            tallest; //create variable to make note of the tallest slide

        if( ! items.length )
            return;

        function normalizeHeights() {
            items.each( function() { //add heights to array
                heights.push( $(this).height() );
            } );
            tallest = Math.max.apply( null, heights ); //cache largest value
            items.css( 'min-height', tallest + 'px' );
            if ($('.article-slide .carousel-indicators').css('bottom') !== 0) {
                $('.article-slide .carousel-indicators').css('bottom', -tallest);
                $('.carousel-inner').css('margin-bottom', tallest);
            }
        }
        normalizeHeights();

        $( window ).on( 'resize orientationchange', function () {
            tallest = 0, heights.length = 0; //reset vars
            items.css( 'min-height', '0' ); //reset min-height
            normalizeHeights(); //run it again
        } );
    }

    $(function () {
        var carousel = $('#carousel');
        if (typeof carousel !== 'undefined') {
            $('#hidden-carousel').appendTo(carousel).show();
        }

        $('.carousel').carousel({
            interval: 5000
        });
        carouselNormalization();
    });
</script>

</body>
</html>
